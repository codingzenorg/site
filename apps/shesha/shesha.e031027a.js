(function () {function k(r,a){return s(r)||q(r,a)||p(r,a)||m()}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(r,a){if(r){if("string"==typeof r)return f(r,a);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(r,a):void 0}}function f(r,a){(null==a||a>r.length)&&(a=r.length);for(var t=0,e=new Array(a);t<a;t++)e[t]=r[t];return e}function q(r,a){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,$,o=[],n=!0,c=!1;try{for(t=t.call(r);!(n=(e=t.next()).done)&&(o.push(e.value),!a||o.length!==a);n=!0);}catch(i){c=!0,$=i}finally{try{n||null==t.return||t.return()}finally{if(c)throw $}}return o}}function s(r){if(Array.isArray(r))return r}var u=function(r){return{apple:g(r),snake:v(r),h:r.h,v:r.v}};var v=function(r){var a=r.h,t=r.v;return{x:Math.floor(Math.random()*a),y:Math.floor(Math.random()*t),trail:[],tail:5}},g=function(r){var a=r.h,t=r.v;return{x:Math.floor(Math.random()*a),y:Math.floor(Math.random()*t)}},w=function(r,a){var t=x(r),e=y(r);return function(){var $=r.snake;D($),$.x=t($.x),$.y=e($.y),a(r),A(r),z(r),B(r),C(r)}};var x=function(r){var a=r.h;return function(r){return r<0?a-1:r>a-1?0:r}},y=function(r){var a=r.v;return function(r){return r<0?a-1:r>a-1?0:r}},z=function(r){for(var a=r.snake;a.trail.length>a.tail;)a.trail.shift()},A=function(r){var a=r.snake;a.trail.push({x:a.x,y:a.y})},B=function(r){var a=r.snake;h(r)&&a.tail++},C=function(r){h(r)&&(r.apple=g(r))},h=function(r){var a=r.apple,t=r.snake;return a.x==t.x&&a.y==t.y},D=function(r){var a=k(j,2),t=a[0],e=a[1];r.x+=t,r.y+=e},j=[0,0],E=function(r){j={37:[-1,0],38:[0,-1],39:[1,0],40:[0,1]}[r.keyCode]||j};document.body.style.margin="0px",document.body.style.borderColor="gray",document.body.style.borderStyle="solid",document.body.style.borderWidth="5px";var b=document.createElement("canvas");b.width=window.innerWidth-10,b.height=window.innerHeight-10,document.body.appendChild(b),window.onload=function(){document.addEventListener("keydown",E);var e=G(),o=F(b,e,{boardBackColor:"black",snakeColor:"blue",appleColor:"red"}),t=u(e.limit(b.width,b.height)),a=w(t,o);setInterval(a,1e3/15)};var F=function(e,o,t){var a=o.f,r=o.cellSize,n=t.boardBackColor,l=t.appleColor,c=t.snakeColor,i=e.getContext("2d"),d=r-2;return function(o){var t=o.snake,$=o.apple;i.fillStyle=n,i.fillRect(0,0,e.width,e.height),i.fillStyle=c,t.trail.forEach(function(e){return i.fillRect(a(e.x),a(e.y),d,d)}),i.fillStyle=l,i.fillRect(a($.x),a($.y),d,d),i.fillStyle="blue",i.font="bold 16px Arial",i.fillText("cell size : ".concat(r),e.width-150,50),i.fillText("snake size: ".concat(t.trail.length),e.width-150,70),i.fillText("apple (".concat($.x,",").concat($.y,")"),e.width-150,90),i.fillText("snake (".concat(t.x,",").concat(t.y,")"),e.width-150,110)}},G=function(e){return{cellSize:e=e||20,limit:function(o,t){return{h:Math.floor(o/e),v:Math.floor(t/e)}},f:function(o){return o*e}}};})();