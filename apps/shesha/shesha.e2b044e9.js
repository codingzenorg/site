(function () {var j=function(){return function(r,a){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,a){var t=[],$=!0,e=!1,o=void 0;try{for(var n,c=r[Symbol.iterator]();!($=(n=c.next()).done)&&(t.push(n.value),!a||t.length!==a);$=!0);}catch(i){e=!0,o=i}finally{try{!$&&c.return&&c.return()}finally{if(e)throw o}}return t}(r,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(r){return{cellSize:r=r||20,limit:function(a,t){return{h:Math.floor(a/r),v:Math.floor(t/r)}},f:function(a){return a*r}}};var m=function(r){return{apple:f(r),snake:p(r),h:r.h,v:r.v}};var p=function(r){var a=r.h,t=r.v;return{x:Math.floor(Math.random()*a),y:Math.floor(Math.random()*t),trail:[],tail:5}},f=function(r){var a=r.h,t=r.v;return{x:Math.floor(Math.random()*a),y:Math.floor(Math.random()*t)}},q=function(r){var a=r.h;return function(r){return r<0?a-1:r>a-1?0:r}},s=function(r){var a=r.v;return function(r){return r<0?a-1:r>a-1?0:r}},u=function(r,a){var t=q(r),$=s(r);return function(){var e=r.snake;z(e),e.x=t(e.x),e.y=$(e.y),a(r),w(r),v(r),x(r),y(r)}};var v=function(r){for(var a=r.snake;a.trail.length>a.tail;)a.trail.shift()},w=function(r){var a=r.snake;a.trail.push({x:a.x,y:a.y})},x=function(r){var a=r.snake;g(r)&&a.tail++},y=function(r){g(r)&&(r.apple=f(r))},g=function(r){var a=r.apple,t=r.snake;return a.x==t.x&&a.y==t.y},z=function(r){var a=j(h,2),t=a[0],$=a[1];r.x+=t,r.y+=$},h=[0,0],A=function(r){h={37:[-1,0],38:[0,-1],39:[1,0],40:[0,1]}[r.keyCode]||h};document.body.style.margin="0px",document.body.style.borderColor="gray",document.body.style.borderStyle="solid",document.body.style.borderWidth="5px";var b=document.createElement("canvas");b.width=window.innerWidth-10,b.height=window.innerHeight-10,document.body.appendChild(b),window.onload=function(){document.addEventListener("keydown",A);var e=k(),o=B(b,e,{boardBackColor:"black",snakeColor:"blue",appleColor:"red"}),l=m(e.limit(b.width,b.height)),r=u(l,o);setInterval(r,1e3/15)};var B=function(e,o,l){var r=o.f,a=o.cellSize,t=l.boardBackColor,i=l.appleColor,n=l.snakeColor,c=e.getContext("2d"),d=a-2;return function(o){var l=o.snake,$=o.apple;c.fillStyle=t,c.fillRect(0,0,e.width,e.height),c.fillStyle=n,l.trail.forEach(function(e){return c.fillRect(r(e.x),r(e.y),d,d)}),c.fillStyle=i,c.fillRect(r($.x),r($.y),d,d),c.fillStyle="blue",c.font="bold 16px Arial",c.fillText("cell size :"+a,e.width-150,50),c.fillText("snake size:"+l.trail.length,e.width-150,70),c.fillText("apple (x,y):"+$.x+" "+$.y,e.width-150,90),c.fillText("snake (x,y):"+l.x+" "+l.y,e.width-150,110)}};})();